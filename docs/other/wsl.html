<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <title>如何在 windows 11 中安装 WSLG(WSL2) | 前端小栈</title><meta name="description" content="这是我的第一个 VuePress 站点"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.23">
    <link rel="preload" href="/assets/js/runtime~app.84a8a0fa.js" as="script"><link rel="preload" href="/assets/css/styles.ecd9d05c.css" as="style"><link rel="preload" href="/assets/js/611.9766833f.js" as="script"><link rel="preload" href="/assets/js/app.dceaaf21.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.ecd9d05c.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/readme.md" class=""><img class="logo" src="https://vuejs.org/images/logo.png" alt="前端小栈"><span class="site-name can-hide">前端小栈</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/basic/cookie.md" class="nav-link" aria-label="Basic"><!--[--><!--]--> Basic <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/vue/directives/copy.md" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/data-structure/list.md" class="nav-link" aria-label="数据结构与算法"><!--[--><!--]--> 数据结构与算法 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/GuoJikun/blog-vuepress" rel="noopener noreferrer" target="_blank" aria-label="GITHUB"><!--[--><!--]--> GITHUB <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="切换夜间模式"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/basic/cookie.md" class="nav-link" aria-label="Basic"><!--[--><!--]--> Basic <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/vue/directives/copy.md" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/data-structure/list.md" class="nav-link" aria-label="数据结构与算法"><!--[--><!--]--> 数据结构与算法 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/GuoJikun/blog-vuepress" rel="noopener noreferrer" target="_blank" aria-label="GITHUB"><!--[--><!--]--> GITHUB <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="如何在-windows-11-中安装-wslg-wsl2" tabindex="-1"><a class="header-anchor" href="#如何在-windows-11-中安装-wslg-wsl2" aria-hidden="true">#</a> 如何在 windows 11 中安装 WSLG(WSL2)</h1><h2 id="什么是-wsl" tabindex="-1"><a class="header-anchor" href="#什么是-wsl" aria-hidden="true">#</a> 什么是 WSL</h2><p>WSL(Windows Subsystem for Linux)：<code>Windows</code>  系统中的一个子系统，在这个子系统上可以运行  <code>Linux</code>  操作系统。</p><p>可以让开发人员直接在  <code>Windows</code>  上按原样运行  <code>GNU/Linux</code>  环境（包括大多数命令行工具、实用工具和应用程序），且不会产生传统虚拟机或双启动设置开销。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45d50080824c40da96b269053664222a~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><h2 id="什么是-wsl2" tabindex="-1"><a class="header-anchor" href="#什么是-wsl2" aria-hidden="true">#</a> 什么是 WSL2？</h2><p><code>WSL2</code>  是适用于  <code>Linux</code>  的  <code>Windows</code>  子系统体系结构的一个新版本，它是对基础体系结构的一次重大改造。</p><p>它使用虚拟化技术和  <code>Linux</code>  内核来实现其新功能，主要目标是提高文件系统性能和添加完全的系统调用兼容性。</p><p>个人理解：</p><p><code>WSL</code>：  并不是一个真正的  <code>Linux</code>  操作系统，仅仅是  <code>Linux</code>  应用程序与  <code>Windows</code>  操作系统之间的一个适配层。</p><p>在这个适配层之上，可以运行  <code>Linux</code>  应用程序，有点类似于以前的  <code>cygwin</code>  的方式。</p><p><code>WSL2</code>：它就是一个虚拟机，类似于  <code>Vitual Box</code>，在这个虚拟机之上，运行一个完整的  <code>Linux</code>  操作系统。</p><p>相对于  <code>Virtual Box</code>、<code>VMWare</code>  来说，WSL2 提供更全面的兼容性、与  <code>Windows</code>  系统的互操作性更好、运行速度更快、占用系统资源更少。</p><h2 id="激活-wsl-服务" tabindex="-1"><a class="header-anchor" href="#激活-wsl-服务" aria-hidden="true">#</a> 激活 WSL 服务</h2><blockquote><p>开启<code>linux子系统</code>和<code>虚拟机平台</code>后，必须要重启系统才能生效。</p></blockquote><h3 id="开启方式-1-命令方式" tabindex="-1"><a class="header-anchor" href="#开启方式-1-命令方式" aria-hidden="true">#</a> 开启方式 1-命令方式</h3><p>按  <code>Win+X</code>, 启动  windows terminal (管理员)，注意：是带有管理员的这个啊。</p><p>或者直接在搜索窗口中输入  <code>windows terminal</code>, 然后选择以管理员方式运行：</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b1221a22ba054d9480a96713567ee734~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p><code>windows terminal</code>  的窗口是：</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c78ca52f5b0451d8250a84ea82229c7~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p>可以把  <code>windows terminal</code>  理解成升级版的、功能更强劲的  <code>PowerShell/cmd</code>。</p><p>在  <code>windows terminal</code>  窗口中，输入如下指令来激活  <code>WSL</code>  服务：</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token comment"># 开启linux子系统</span>
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
<span class="token comment">#开启虚拟机平台</span>
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
</code></pre></div><h3 id="开启方式-2-图形化" tabindex="-1"><a class="header-anchor" href="#开启方式-2-图形化" aria-hidden="true">#</a> 开启方式 2-图形化</h3><p>按下  <code>Win + R</code>，调出命令输入窗口。输入指令  <code>appwiz.cpl</code>。</p><p>点击左侧的  【启动或关闭 Windows 功能】：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d3c481c6878e45beb65f27b326d97da1~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p>弹出下面这个窗口：</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/162fdc9d9ab0400c942f4fbb38b387c5~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p>需要勾选【适用于 Linux 的 Windows 子系统】和【虚拟机平台】这两项。</p><p>接下来要做的事情，就是安装  <code>Ubuntu</code>  操作系统。</p><h2 id="设置-wsl-的版本为-wsl2" tabindex="-1"><a class="header-anchor" href="#设置-wsl-的版本为-wsl2" aria-hidden="true">#</a> 设置 WSL 的版本为 WSL2</h2><div class="language-bash ext-sh"><pre class="language-bash"><code>wsl --set-default-version <span class="token number">2</span>
</code></pre></div><h2 id="执行更新-wsl-命令已确认-wsl-为最新版" tabindex="-1"><a class="header-anchor" href="#执行更新-wsl-命令已确认-wsl-为最新版" aria-hidden="true">#</a> 执行更新 wsl 命令已确认 wsl 为最新版</h2><div class="language-bash ext-sh"><pre class="language-bash"><code>wsl --update
wsl --install // 安装wslg
</code></pre></div><blockquote><p>如果更新失败可以在更新设置中打开<code>接收其它Microsoft产品的更新</code>选项</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8d28342e25a445e686cdaeb2885d6c15~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p></blockquote><h2 id="安装-ubuntu-20-04-操作系统" tabindex="-1"><a class="header-anchor" href="#安装-ubuntu-20-04-操作系统" aria-hidden="true">#</a> 安装 Ubuntu-20.04 操作系统</h2><h3 id="安装方式-1-命令安装" tabindex="-1"><a class="header-anchor" href="#安装方式-1-命令安装" aria-hidden="true">#</a> 安装方式 1-命令安装</h3><p><strong>查看可安装版本</strong></p><div class="language-bash ext-sh"><pre class="language-bash"><code>wsl --list --online // 列出所有可安装的linux版本
</code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a295c7db89d141e7a27ccfdb6d6262c4~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p><strong>开始安装</strong></p><div class="language-bash ext-sh"><pre class="language-bash"><code>wsl --install -d Ubuntu-20.04 // 安装Ubuntu-20.04
</code></pre></div><h3 id="安装方式-2-图形化-windows-store" tabindex="-1"><a class="header-anchor" href="#安装方式-2-图形化-windows-store" aria-hidden="true">#</a> 安装方式 2-图形化（windows store）</h3><p>启动 【Windows Store】并搜索  <code>Ubuntu</code>，然后选择要安装的系统</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/934fde56c8fc482b94ef3da24602b0c0~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p>安装完成之后，点击【启动】按钮(图片-侵删)：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3fc2cd342b6f4f54a92fb8d986958099~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>第一次打开速度稍微慢一些，大约 1 分钟左右吧，提示设置用户名、密码，然后就进入我们熟悉的窗口了(图片-侵删)：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e8b7a77d1f34fab8bd9ec0f7ee6bacb~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>这样，<code>Ubuntu-20.04</code>  系统就安装好了！</p><h2 id="安装-gui-程序并测试" tabindex="-1"><a class="header-anchor" href="#安装-gui-程序并测试" aria-hidden="true">#</a> 安装 GUI 程序并测试</h2><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> gedit // gnome桌面下的编辑器
</code></pre></div><p>命令执行完成功后会在开始菜单下生成<code>Ubuntu-20.04</code>文件下（如下图）</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98a18d0226de44c68b337ca86deaa675~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p>打开程序后如下图</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f1f8fb44158460e86cf42091f8d1b8d~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p>至此在 win11 下安装 wslg 教程完成。</p><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考" aria-hidden="true">#</a> 参考</h2><ul><li><p><a href="https://docs.microsoft.com/zh-cn/windows/wsl/install-win10" target="_blank" rel="noopener noreferrer">在 Windows 10 上安装 WSL | Microsoft Docs<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p></li><li><p><a href="https://devblogs.microsoft.com/commandline/the-initial-preview-of-gui-app-support-is-now-available-for-the-windows-subsystem-for-linux-2/#getting-started-with-this-feature" target="_blank" rel="noopener noreferrer">GUI 应用支持的初始预览现在可用于 Linux |的 Windows 子系统窗口命令行 (microsoft.com)<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p></li></ul><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/GuoJikun/blog-vuepress/edit/main/src/other/wsl.md" rel="noopener noreferrer" target="_blank" aria-label="编辑"><!--[--><!--]--> 编辑 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">最后更新时间: </span><span class="meta-item-info">2021/8/12 下午6:00:35</span></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: guojikun@y-open.com">GuoJikun</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.84a8a0fa.js" defer></script><script src="/assets/js/611.9766833f.js" defer></script><script src="/assets/js/app.dceaaf21.js" defer></script>
  </body>
</html>
